# Required
OPENAI_API_KEY=sk-...
MEET_URL=https://meet.google.com/xxx-xxxx-xxx
PROJECT_CONTEXT=

# OpenAI (LLM + TTS)
OPENAI_MODEL=gpt-4o-mini
OPENAI_TEMPERATURE=0.4
VOICE_PIPELINE_MODE=realtime
VOICE_PIPELINE_FALLBACK_TO_HYBRID=true
OPENAI_REALTIME_MODEL=gpt-4o-mini-realtime-preview-2024-12-17
OPENAI_REALTIME_CONNECT_TIMEOUT_MS=8000
OPENAI_REALTIME_INPUT_TRANSCRIPTION_MODEL=gpt-4o-mini-transcribe
OPENAI_REALTIME_TURN_DETECTION=semantic_vad
OPENAI_REALTIME_TURN_EAGERNESS=auto
OPENAI_REALTIME_VAD_THRESHOLD=0.45
OPENAI_REALTIME_VAD_SILENCE_MS=280
OPENAI_REALTIME_VAD_PREFIX_PADDING_MS=180
OPENAI_REALTIME_INTERRUPT_RESPONSE_ON_TURN=true
OPENAI_TTS_MODEL=gpt-4o-mini-tts
OPENAI_TTS_VOICE=alloy
OPENAI_TTS_VOICE_ID=
OPENAI_TTS_FORMAT=mp3
OPENAI_TTS_INSTRUCTIONS=
OPENAI_TTS_SPEED=1.0
OPENAI_TTS_STREAM_FORMAT=audio
OPENAI_TTS_TIMEOUT_MS=8000
SYSTEM_PROMPT_FILE=prompts/system-prompt.txt
# Optional override (if set, has priority over SYSTEM_PROMPT_FILE)
SYSTEM_PROMPT=
MAX_USER_MESSAGE_CHARS=12000
MAX_ASSISTANT_REPLY_CHARS=500
MAX_HISTORY_MESSAGES=12
REPLY_CHUNK_MIN_CHARS=18
REPLY_CHUNK_TARGET_CHARS=70
REPLY_CHUNK_MAX_CHARS=150
REPLY_CHUNK_MAX_LATENCY_MS=180
INTAKE_COMPLETE_TOKEN=[[INTAKE_COMPLETE]]
AUTO_LEAVE_ON_INTAKE_COMPLETE=true
INTAKE_COMPLETE_LEAVE_DELAY_MS=1800
CALL_SUMMARY_ENABLED=true
CALL_SUMMARY_MODEL=gpt-4o-mini
CALL_SUMMARY_TEMPERATURE=0.2
CALL_SUMMARY_MAX_TURNS=40
CALL_SUMMARY_MAX_TRANSCRIPT_CHARS=12000
CALL_SUMMARY_MAX_OUTPUT_CHARS=1500
CALL_SUMMARY_TIMEOUT_MS=12000

# Bot behavior
BOT_NAME=Meet Voice Bot
LANGUAGE=en-US
WAKE_WORD=hey
OPENAI_STT_MODEL=gpt-4o-mini-transcribe
OPENAI_STT_SOURCE=bridge-input
OPENAI_STT_LANGUAGE=en-US
OPENAI_STT_PARTIALS_ENABLED=true
OPENAI_STT_PARTIAL_EMIT_MS=240
OPENAI_STT_CHUNK_MS=260
OPENAI_STT_TIMEOUT_MS=4500
OPENAI_STT_LOG_FINALS=true
OPENAI_STT_LOG_PARTIALS=true
VERBOSE_SESSION_LOGS=true
OPENAI_STT_MAX_RETRIES=1
OPENAI_STT_MIN_CHUNK_BYTES=800
OPENAI_STT_MAX_QUEUE_CHUNKS=8
OPENAI_STT_MIME_TYPE=audio/webm;codecs=opus
OPENAI_STT_DEVICE_ID=
OPENAI_STT_DEVICE_LABEL=BlackHole
OPENAI_STT_PREFER_LOOPBACK=true
OPENAI_STT_AUDIO_BITS_PER_SECOND=96000
OPENAI_STT_MIN_SIGNAL_PEAK=0.004
OPENAI_STT_VAD_THRESHOLD=0.015
OPENAI_STT_HANGOVER_MS=280
OPENAI_STT_SEGMENT_MIN_MS=220
OPENAI_STT_SEGMENT_MAX_MS=7000
BRIDGE_TTS_OUTPUT_DEVICE_ID=
BRIDGE_TTS_OUTPUT_DEVICE_LABEL=BlackHole 2ch
AUTO_GREETING_ENABLED=true
AUTO_GREETING_DELAY_MS=2000
AUTO_GREETING_PROMPT=System event: The Google Meet call has just connected and the user is silent. Start with one short friendly opening, briefly introduce yourself as SmartSpine's live assistant, then ask for the user's name and goal. Do not use rigid scripted wording.
SEMANTIC_EOT_ENABLED=true
SEMANTIC_EOT_USE_LLM=true
SEMANTIC_EOT_MODEL=gpt-4o-mini
SEMANTIC_EOT_TIMEOUT_MS=180
SEMANTIC_EOT_MIN_DELAY_MS=250
SEMANTIC_EOT_MAX_DELAY_MS=900
PARTIAL_SPECULATION_ENABLED=true
PARTIAL_SPECULATION_MIN_WORDS=3
PARTIAL_SPECULATION_TIMEOUT_MS=1400
PARTIAL_SPECULATION_MAX_AGE_MS=1800
TURN_SILENCE_MS=280
POST_TURN_RESPONSE_DELAY_MS=0
TURN_CONTINUATION_SILENCE_MS=360
TURN_STITCH_ENABLED=true
TURN_STITCH_WINDOW_MS=900
BARGE_IN_ENABLED=true
BARGE_IN_ON_PARTIALS=true
BARGE_IN_ON_VAD_CONFIRMED=true
BARGE_IN_VAD_MIN_PEAK=0.018
BARGE_IN_MIN_MS=220
BARGE_IN_MIN_WORDS_OPENAI_STT=2
BARGE_IN_CONTINUATION_WINDOW_MS=20000
SOFT_INTERRUPT_ENABLED=true
SOFT_INTERRUPT_CONFIRM_MS=220
SOFT_INTERRUPT_DUCK_LEVEL=0.22
SILENCE_AFTER_SPEAK_MS=180
INBOUND_DEDUP_MS=5000

# Browser
HEADLESS=false
CHROME_PATH=
CHROME_USER_DATA_DIR=.chrome-profile
MEET_ASSUME_LOGGED_IN=false
MEET_JOIN_STATE_TIMEOUT_MS=6000
MEET_JOIN_POLL_MS=1200
MEET_JOIN_CLICK_ATTEMPTS=8
MEET_JOIN_CLICK_RETRY_MS=700
BRIDGE_HOST=127.0.0.1
BRIDGE_PORT=3100

# Control API
CONTROL_API_HOST=127.0.0.1
CONTROL_API_PORT=3200
CONTROL_API_TOKEN=
CONTROL_API_CORS_ALLOWLIST=http://127.0.0.1:3300,http://localhost:3300
ALLOW_ANY_MEET_URL=false

# UI-managed secure config overrides (encrypted at rest)
CONFIG_ENCRYPTION_KEY=
CONFIG_OVERRIDES_FILE=.config/config.overrides.enc
CONFIG_AUDIT_FILE=.config/config.audit.log
CONFIG_BACKUPS_DIR=.config/config-backups
